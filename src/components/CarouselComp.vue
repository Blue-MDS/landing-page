<template>
  <div class="d-flex flex-column">
  <Carousel ref="myCarousel" :items-to-show="$vuetify.display.lgAndUp ? 1.8 : 1" :wrap-around="true" @update:modelValue="updateCurrentIndex">
    <Slide v-for="(article, index) in articles" :key="index">
      <div class="carousel__item d-flex flex-column flex-md-row pa-md-4 align-center justify-space-around">
        <p class="pa-4" v-html="article.text" ></p>
        <img :src="article.img" alt="slide" />
      </div>
    </Slide>

    <template #addons>
    </template>
  </Carousel>
  <div class="text-center mt-8">
    <button @click="prevSlide"><v-icon icon="mdi-arrow-left"></v-icon></button>
    <span class="slide-count font-weight-bold">{{ currentIndex + 1 }} - L'histoire de Blue</span>
    <button @click="nextSlide"><v-icon icon="mdi-arrow-right"></v-icon></button>
  </div>
</div>
</template>

<script setup>
import { ref } from 'vue'
import { Carousel, Slide } from 'vue3-carousel'
import 'vue3-carousel/dist/carousel.css'
import teamImg from '@/assets/team.jpg'
import teamOne from '@/assets/team-1.jpg'
import teamTwo from '@/assets/team-2.jpg'
import teamThree from '@/assets/team-3.jpg'
import teamFour from '@/assets/team-4.png'
import teamFive from '@/assets/team-5.jpg'
import teamSix from '@/assets/team-6.jpg'
import teamSeven from '@/assets/team-7.jpg'

const myCarousel = ref(null)
const currentIndex = ref(0)

const articles = ref([
  {
    text: 'Salut, nous câ€™est Blue !<br />Blue est nÃ© lors dâ€™une discussion dans mÃ©tro aprÃ¨s les cours.',
    img: teamOne,
  },
  {
    text: 'Tu dois te demander comment câ€™est venu ?<br />Câ€™est parti dâ€™une femme qui avait une gourde de 3L dâ€™eau.',
    img: teamSeven,
  },
  {
    text: 'VoilÃ , le dÃ©bat qui commenceâ€¦<br />Â« Comment on peut boire autant dâ€™eau ? Â», Â« Comment toi tu peux ne pas aimer lâ€™eau ? Â», bref on tourner en rond !',
    img: teamImg,
  },
  {
    text: 'Conclusion du dÃ©bat :<br />Câ€™est quand mÃªme dingue dâ€™Ã©viter de boire de lâ€™eau, juste parce que Ã§a nâ€™a pas de goÃ»tâ€¦',
    img: teamSix,
  },
  {
    text: 'LÃ , normalement tâ€™a captÃ© ?<br />On a commencÃ© Ã  faire des recherches sur le marchÃ© de lâ€™eau et Ã  se renseigner sâ€™il y avait des solutions pour palier Ã  ce problÃ¨me.',
    img: teamTwo,
  },
  {
    text: 'Nous voilÃ  dans la peau dâ€™Einstein.<br />On a commencÃ© Ã  sâ€™intÃ©resser de plus en plus au sujet et Ã  imaginer des hypothÃ¨ses.',
    img: teamThree,
  },
  {
    text: 'Notre solution ?<br />Proposer des arÃ´mes naturels, sans sucre, sans colorant pour donner du goÃ»t Ã  ton eau et tâ€™aider Ã  mieux tâ€™hydrater.<br />Maintenant tu sais tout. Ã‡a câ€™est Blue !',
    img: teamFour,
  },
  {
    text: 'Maintenant tu sais tout.<br /> Ã‡a câ€™est Blue ðŸ’§!',
    img: teamFive,
  },
])

const updateCurrentIndex = (newIndex) => {
  currentIndex.value = newIndex;
};

const prevSlide = () => {
  myCarousel.value.prev();
};

const nextSlide = () => {
  myCarousel.value.next();
};
</script>

<style lang="scss" scoped>
.carousel__item {
  height: 319px;
  width: 800px;
  background-color: white;
  font-size: 20px;

  img {
    max-height: 260px;
  }
}
.slide-count {
  font-family: 'Poppins', sans-serif !important;
  font-size: clamp(14px, 3vw, 16px) !important;
  }
@media (max-width: 960px) {
  .carousel__item {
    height: auto;
    img {
      width: 100%;
      max-height: none;
    }
  }
}
</style>
